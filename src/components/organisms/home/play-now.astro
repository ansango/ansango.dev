---
/**
 * ğŸµ PlayNow Organism (Home)
 *
 * @description Homepage section showing currently playing music.
 * Minimal inline display linking to full music page.
 *
 * @usage
 * ```astro
 * <PlayNow />
 * ```
 *
 * @compatible
 * - ğŸ¶ Uses PlayNowMini Svelte component
 * - â–¶ï¸ Includes PlayIcon and NoListenIcon
 * - ğŸ”— Links to /music-lite page
 * - ğŸ”Š Last.fm integration
 */
import { Link } from "@/components/atoms";
import PlayNowMini from "@/components/molecules/playnow-mini.svelte";
import { NoListenIcon, PlaceholderIcon, PlayIcon } from "@/components/icons";

const serviceUrl = import.meta.env.SERVICE_URL;
const apiKey = import.meta.env.SERVICE_API_KEY;
---

<section class="pb-0">
  <Link href="/music">
    <PlayNowMini client:visible url={serviceUrl} apiKey={apiKey}>
      <svelte:fragment slot="play">
        <PlayIcon className="inline-flex size-4" />
      </svelte:fragment>
      <svelte:fragment slot="nocover">
        <PlaceholderIcon className="inline-flex size-3 pb-0.5" />
      </svelte:fragment>
      <svelte:fragment slot="noplay">
        <NoListenIcon className="inline-flex size-3.5" />
      </svelte:fragment>
    </PlayNowMini>
  </Link>
</section>
