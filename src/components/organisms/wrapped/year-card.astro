---
import { Link } from "@/components/atoms";

interface Props {
  year: number;
  scrobbles: number;
  threshold: number;
}

const { year, scrobbles, threshold } = Astro.props;
const percentage = Math.round((scrobbles / threshold) * 100);
---

<Link href={`/wrapped/${year}`} className="block">
  <div
    class="border-divider hover:border-accent group rounded border p-4 transition-colors"
  >
    <div class="flex items-baseline justify-between">
      <h3 class="group-hover:text-accent text-2xl font-semibold transition-colors">
        {year}
      </h3>
      <span class="text-muted text-sm">{percentage}%</span>
    </div>
    <p class="text-accent mt-1 text-lg font-medium">
      {scrobbles.toLocaleString("es-ES")}
    </p>
    <p class="text-muted text-sm">scrobbles</p>
  </div>
</Link>
