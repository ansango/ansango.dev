---
import { LayoutDefault } from "@/components";
import { getCollectionsExcludingReading } from "@/lib/raindrop";
import {
  BookmarkCollectionHero,
  BookmarkCollectionList,
} from "@/components/organisms/bookmarks";

const collections = await getCollectionsExcludingReading();
const totalCollectionsCount = collections?.length;
const totalBookmarksCount = collections?.reduce(
  (acc, curr) => acc + curr.count,
  0,
);
---

<LayoutDefault>
  <BookmarkCollectionHero {totalBookmarksCount} {totalCollectionsCount} />
  <BookmarkCollectionList {collections} />
</LayoutDefault>
