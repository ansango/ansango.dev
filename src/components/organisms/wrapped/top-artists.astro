---
import { Link } from "@/components/atoms";

interface Props {
  artists: any[];
  limit?: number;
}

const { artists, limit = 10 } = Astro.props;
const displayArtists = artists.slice(0, limit);
---

<section class="space-y-4">
  <h2>Top Artists</h2>
  <ul class="space-y-2">
    {
      displayArtists.map((artist, index) => (
        <li class="list-none">
          <Link href={artist.url} className="flex items-baseline gap-2" blank>
            <span class="text-muted min-w-6 text-sm">{index + 1}</span>
            <div class="flex-1">
              <p class="line-clamp-1 text-sm font-medium">{artist.name}</p>
              <p class="text-muted line-clamp-1 text-xs">
                {parseInt(artist.playcount).toLocaleString("es-ES")} plays
                {artist.tags && artist.tags.length > 0 && (
                  <span> Â· {artist.tags.slice(0, 3).join(", ")}</span>
                )}
              </p>
            </div>
          </Link>
        </li>
      ))
    }
  </ul>
</section>
