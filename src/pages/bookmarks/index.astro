---
import { LayoutDefault } from "@/components/layout";

import {
  BookmarkCollectionHero,
  BookmarkCollectionList,
} from "@/components/organisms/bookmarks";
import { site } from "@/constants";
import { getCollectionsExcludingReading } from "@/lib/bookmarks";

const collections = await getCollectionsExcludingReading();
const totalCollectionsCount = collections?.length;
const totalBookmarksCount = collections?.reduce(
  (acc, curr) => acc + curr.count,
  0,
);

const meta = site.pages.bookmarks;
---

<LayoutDefault {...meta} type="main">
  <BookmarkCollectionHero {totalBookmarksCount} {totalCollectionsCount} />
  <BookmarkCollectionList {collections} />
</LayoutDefault>
